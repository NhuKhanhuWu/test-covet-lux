import{j as e,L as c,f as g}from"./index-DJfziI53.js";import{S as d}from"./SideBarAcc-XRHuCE_l.js";import{F as x}from"./FlexContainer-7pYeUEBP.js";import{B as m}from"./Divider-Cr1DzigY.js";import{R as y}from"./RenderQueryData-MXl8oXhH.js";import{I as z}from"./Img-DznJS-u6.js";import{u as v}from"./useGetDataList-CyWpu0rj.js";import{M as p}from"./index-CeEDtpwb.js";const S="/test-covet-lux/assets/empty-box-CMfSirB9.png",N="_emptyMessage_1f5nz_4",T="_content_1f5nz_14",M="_order_1f5nz_22",$="_orderHeader_1f5nz_27",I="_product_1f5nz_34",B="_productImg_1f5nz_39",C="_productText_1f5nz_43",b="_title_1f5nz_49",k="_price_1f5nz_56",D="_orderSumary_1f5nz_64",r={emptyMessage:N,content:T,order:M,orderHeader:$,product:I,productImg:B,productText:C,title:b,price:k,orderSumary:D};function E(){return e.jsxs("div",{className:r.emptyMessage,children:[e.jsx("img",{alt:"empty box",src:S,style:{width:"35%"},loading:"lazy"}),e.jsx("p",{children:"There is no order yet!"}),e.jsxs(c,{to:"/covet-lux-fake-api/products?page=1",className:"border-btn",children:["Go shopping"," ",e.jsx("ion-icon",{name:"arrow-forward-outline",style:{fontSize:"2rem"}})]})]})}function H({product:s}){return e.jsxs(x,{margin:2,gap:1,elClass:`${r.product} gray-text`,children:[e.jsx(z,{alt:s.title,imgSrc:s==null?void 0:s.images[0],elClass:r.productImg}),e.jsxs("div",{className:r.productText,children:[e.jsx(c,{to:`/test-covet-lux/product?product_id=${s.id}`,className:r.title,children:s.title}),e.jsxs("p",{children:["X",s.amount]}),e.jsxs("p",{children:["$",s.price]})]}),e.jsxs("p",{className:r.price,children:["$",s.price*s.amount]})]})}function R({children:s}){return e.jsx("div",{className:r.order,children:s})}function U(){const s=g(t=>t.orders).orderArray;console.log(s);const n=s==null?void 0:s.map(t=>t==null?void 0:t.products),u=n==null?void 0:n.flat().map(t=>t.id),{dataResponse:j,isLoading:_,isError:f}=v("products",u);let h=[...j],l=n==null?void 0:n.map((t,o)=>h.splice(0,t.length).map((a,i)=>({...a,amount:n[o][i].amount})));return e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(p,{maxWidth:539,children:e.jsx(d,{})}),e.jsxs(x,{children:[e.jsx(p,{minWidth:540,children:e.jsx(d,{})}),e.jsx(y,{isError:f,isLoading:_,isEmptyList:l.length===0,emptyMess:e.jsx(E,{}),children:e.jsx("div",{className:r.content,children:l.map((t,o)=>e.jsxs(R,{children:[e.jsxs("div",{className:r.orderHeader,children:[e.jsx("span",{children:s[o].status.toUpperCase()})," | ",e.jsx(c,{to:`/test-covet-lux/order?id=${s[o].id}`,className:"link",children:"See detail"})]}),t.map((a,i)=>e.jsx(H,{product:a},`product-${i}`)),e.jsxs("div",{className:r.orderSumary,children:["Total:",e.jsxs("span",{children:["$",s[o].goodsTotal>=100?s[o].goodsTotal:s[o].goodsTotal+10]})]})]},`order-${o}`))})})]}),e.jsx(m,{})]})}export{U as default};
