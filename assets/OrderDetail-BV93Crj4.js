import{j as s,r as m,L as p,u as _,f as v}from"./index-DJfziI53.js";import{F as c}from"./FlexContainer-7pYeUEBP.js";import{M as l}from"./index-CeEDtpwb.js";import{B as h}from"./Divider-Cr1DzigY.js";import{u as g}from"./useGetDataList-CyWpu0rj.js";import{R as y}from"./RenderQueryData-MXl8oXhH.js";import{I as f}from"./Img-DznJS-u6.js";const B="_content_t6v43_4",N="_header_t6v43_19",S="_backBtn_t6v43_26",w="_statusBarContainer_t6v43_34",C="_statusBar_t6v43_34",b="_status_t6v43_34",$="_statusProcess_t6v43_65",T="_showStatusBtn_t6v43_75",D="_arrowIcon_t6v43_87",L="_statusOpen_t6v43_92",P="_inforContent_t6v43_98",k="_address_t6v43_104",H="_payment_t6v43_110",O="_orderProducts_t6v43_121",E="_inforHeader_t6v43_127",F="_productsContainer_t6v43_131",M="_product_t6v43_131",R="_total_t6v43_150",A="_productTitle_t6v43_156",W="_show_t6v43_75",e={content:B,header:N,backBtn:S,statusBarContainer:w,statusBar:C,status:b,statusProcess:$,showStatusBtn:T,arrowIcon:D,statusOpen:L,inforContent:P,address:k,payment:H,orderProducts:O,inforHeader:E,productsContainer:F,product:M,total:R,productTitle:A,show:W},j=[{statusTxt:"Order placed",icon:s.jsx("span",{className:"material-symbols-outlined",children:"fact_check"}),id:"placed"},{statusTxt:"Delivering",icon:s.jsx("span",{className:"material-symbols-outlined",children:"local_shipping"}),id:"delivering"},{statusTxt:"Received",icon:s.jsx("span",{className:"material-symbols-outlined",children:"system_update_alt"}),id:"received"}],q=j.toSpliced(1,0,{statusTxt:"Payment confirmed",icon:s.jsx("span",{className:"material-symbols-outlined",children:"payments"}),id:"confirmed"}),G=j.toSpliced(1,0,{statusTxt:"Order has been paid",icon:s.jsx("span",{className:"material-symbols-outlined",children:"payments"}),id:"paid"});function x({dateStr:t,statusProps:a}){const n=new Date(t),r=n.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),d=n.toLocaleDateString("en-GB"),i=`${r} ${d}`;return s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{color:"black"},children:a==null?void 0:a.statusTxt}),t!==null?s.jsx("div",{style:{color:"var(--gray)"},children:i}):""]})}function Q({statusProps:t,color:a,dateStr:n}){return s.jsxs("div",{style:{color:a},className:e.status,children:[t.icon,s.jsx(l,{minWidth:580,children:s.jsx(x,{statusProps:t,dateStr:n})}),s.jsx(l,{maxWidth:579,children:s.jsx("div",{className:e.statusTxt,children:s.jsx(x,{statusProps:t,dateStr:n})})})]})}function K(){function t(){document.querySelectorAll(`.${e.statusBar}`).forEach(n=>n.classList.toggle(e.show)),document.querySelector(`.${e.arrowIcon}`).classList.toggle(e.statusOpen)}return s.jsxs("button",{className:e.showStatusBtn,onClick:()=>t(),children:["Status detail",s.jsx("span",{className:`material-symbols-outlined ${e.arrowIcon}`,children:"keyboard_arrow_up"})]})}function U({orderInfor:t}){const a=t.payMethod==="cod"?q:G,n=t.status,r=a.findIndex(o=>o.id===n),[d,i]=m.useState(0);return m.useEffect(function(){i(document.querySelector(`.${e.status}>span`).clientHeight)},[]),s.jsxs("div",{className:e.statusBarContainer,children:[s.jsx(l,{maxWidth:530,children:s.jsx(K,{})}),s.jsxs(c,{elClass:e.statusBar,margin:null,children:[a.map((o,u)=>s.jsx(Q,{dateStr:u<=r?t.date:null,statusProps:o,color:u<=r?"var(--green)":"var(--gray)"},`status-${u}`)),s.jsx(l,{minWidth:530,children:s.jsx("div",{className:e.statusProcess,style:{top:`${d/2+2}px`}})})]})]})}function X({id:t}){return s.jsxs(c,{spaceBetween:!0,margin:0,elClass:e.header,children:[s.jsxs(p,{to:"/test-covet-lux/orders",className:e.backBtn,children:[s.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})," BACK"]}),s.jsx("div",{children:s.jsxs("span",{children:["ORDER ID: ",t]})})]})}function Y({orderInfor:t}){const a=`${t.specificAddress}, ${t.ward}, ${t.district}, ${t.city}`;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:e.address,children:[s.jsx("h2",{className:e.inforHeader,children:"Delivery"}),s.jsxs("ul",{className:e.inforContent,children:[s.jsx("li",{children:s.jsxs("span",{children:["Name: ",t.name]})}),s.jsx("li",{children:s.jsxs("span",{children:["Phone: ",t.phone]})}),s.jsx("li",{children:s.jsxs("span",{children:["Address: ",a]})})]})]}),s.jsxs("div",{className:e.payment,children:[s.jsx("h2",{className:e.inforHeader,children:"Payment"}),s.jsxs("div",{className:e.inforContent,children:[s.jsxs(c,{spaceBetween:!0,margin:0,children:[s.jsx("span",{children:"Total cost of goods"}),s.jsxs("span",{children:["$",t.goodsTotal]})]}),s.jsxs(c,{spaceBetween:!0,margin:0,children:[s.jsx("span",{children:"Delivery fee"}),s.jsxs("span",{children:["$",t.deliverFee]})]}),s.jsxs(c,{spaceBetween:!0,margin:0,children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:e.total,children:t.deliverFee+t.goodsTotal})]}),s.jsxs(c,{spaceBetween:!0,margin:0,children:[s.jsx("span",{children:"Methob"}),s.jsx("span",{children:t.paymentMethod.toUpperCase()})]})]})]})]})}function z({product:t,amount:a}){return s.jsxs(c,{gap:2,margin:0,elClass:e.product,children:[s.jsx(f,{alt:t.title,imgSrc:t.images[0]}),s.jsxs(c,{margin:0,spaceBetween:!0,gap:0,children:[s.jsxs("div",{className:e.inforContent,children:[s.jsx(p,{to:`/test-covet-lux/product?product_id=${t.id}`,className:e.productTitle,children:t.title}),s.jsxs("p",{children:["X",a]}),s.jsxs("p",{children:["$",t.price]})]}),s.jsxs("span",{children:["$",a*t.price]})]})]})}function I({orderInfor:t}){const a=t.products,{dataResponse:n,isError:r,isLoading:d}=g("products",a.map(i=>i.id));return console.log(n),s.jsxs("div",{className:e.orderProducts,children:[s.jsx("h2",{className:e.inforHeader,children:"Products"}),s.jsx(y,{isError:r,isLoading:d,isEmptyList:n.length===0,children:s.jsx("div",{className:e.productsContainer,children:n.map((i,o)=>s.jsx(z,{product:i,amount:t.products[o].amount},`product-${o}`))})})]})}function ns(){const[t]=_(),a=Number(t.get("id")),n=v(r=>r.orders).orderArray.find(r=>r.id===a);return s.jsxs(s.Fragment,{children:[s.jsx(h,{distance:4}),s.jsxs("div",{className:e.content,children:[s.jsx(X,{id:a}),s.jsx(U,{orderInfor:n}),s.jsx(Y,{orderInfor:n}),s.jsx(I,{orderInfor:n})]}),s.jsx(h,{distance:4})]})}export{ns as default};
